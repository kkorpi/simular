@import "tailwindcss";

/* ===== Dark Theme (default) ===== */
[data-theme="dark"] {
  --logo-bg: #FEFEFE;
  --logo-fg: #000000;
  --bg: #18181b;
  --bg2: #1e1e22;
  --bg3: #252529;
  --bg3h: #2c2c31;
  --bgcard: #252529;
  --bgi: #222226;
  --bgm: #1c201e;
  --bgmb: #283830;
  --b1: #2e2e34;
  --b2: #3a3a40;
  --bf: #4a4a52;
  --t1: #e8e8eb;
  --t2: #8e8e96;
  --t3: #6a6a73;
  --t4: #4a4a52;
  --as: #346E96;
  --as2: #3d7ba6;
  --ab: #e8e8eb;
  --abt: #18181b;
  --g: #3dd68c;
  --gs: rgba(61, 214, 140, 0.10);
  --gg: rgba(61, 214, 140, 0.22);
  --gt: #3dd68c;
  --am: #e8a830;
  --ams: rgba(232, 168, 48, 0.10);
  --bl: #346E96;
  --bls: rgba(52, 110, 150, 0.12);
  --blt: #4a8db8;
  --lb: #e8e8eb;
  --lt: #18181b;
  --sc: 0 1px 3px rgba(0, 0, 0, 0.5), 0 0 0 1px var(--b1);
  --card-shadow: none;
  --mg: radial-gradient(ellipse at 30% 0%, rgba(61, 214, 140, 0.06) 0%, transparent 50%);
  --st: #8e8e96;
  --sb: #2e2e34;
  --thumb-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
}

/* ===== Light Theme ===== */
[data-theme="light"] {
  --logo-bg: #000000;
  --logo-fg: #FEFEFE;
  --bg: #f7f7f8;
  --bg2: #f0f0f2;
  --bg3: #e9e9ec;
  --bg3h: #e0e0e4;
  --bgcard: #ffffff;
  --bgi: #f5f5f7;
  --bgm: #eef6f1;
  --bgmb: #c8e0d0;
  --b1: #d8d8dc;
  --b2: #c4c4ca;
  --bf: #a0a0a8;
  --t1: #1a1a1e;
  --t2: #52525a;
  --t3: #71717a;
  --t4: #a0a0a8;
  --as: #2c6084;
  --as2: #346E96;
  --ab: #1a1a1e;
  --abt: #fff;
  --g: #18875a;
  --gs: rgba(24, 135, 90, 0.08);
  --gg: rgba(24, 135, 90, 0.18);
  --gt: #15704a;
  --am: #8a5e0c;
  --ams: rgba(138, 94, 12, 0.08);
  --bl: #2c6084;
  --bls: rgba(44, 96, 132, 0.12);
  --blt: #2c6084;
  --lb: #1a1a1e;
  --lt: #fff;
  --sc: 0 1px 3px rgba(0, 0, 0, 0.08), 0 0 0 1px var(--b1);
  --card-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
  --mg: radial-gradient(ellipse at 30% 0%, rgba(24, 135, 90, 0.06) 0%, transparent 50%);
  --st: #1a1a1e;
  --sb: #c4c4ca;
  --thumb-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
}

/* ===== Tailwind Theme Tokens ===== */
@theme inline {
  --color-bg: var(--bg);
  --color-bg2: var(--bg2);
  --color-bg3: var(--bg3);
  --color-bg3h: var(--bg3h);
  --color-bgcard: var(--bgcard);
  --color-bgi: var(--bgi);
  --color-bgm: var(--bgm);
  --color-bgmb: var(--bgmb);
  --color-b1: var(--b1);
  --color-b2: var(--b2);
  --color-bf: var(--bf);
  --color-t1: var(--t1);
  --color-t2: var(--t2);
  --color-t3: var(--t3);
  --color-t4: var(--t4);
  --color-as: var(--as);
  --color-as2: var(--as2);
  --color-ab: var(--ab);
  --color-abt: var(--abt);
  --color-g: var(--g);
  --color-gs: var(--gs);
  --color-gg: var(--gg);
  --color-gt: var(--gt);
  --color-am: var(--am);
  --color-ams: var(--ams);
  --color-bl: var(--bl);
  --color-bls: var(--bls);
  --color-blt: var(--blt);
  --color-lb: var(--lb);
  --color-lt: var(--lt);
  --color-st: var(--st);
  --color-sb: var(--sb);
  --font-sans: var(--font-inter);
  --font-mono: var(--font-jetbrains);
}

/* ===== Base Styles ===== */
body {
  background: var(--bg);
  color: var(--t1);
  -webkit-font-smoothing: antialiased;
  transition: background 0.2s, color 0.2s;
}

/* ===== Animations ===== */
@keyframes pulse-dot {
  0%, 100% { box-shadow: 0 0 5px var(--pulse-glow, var(--gg)); }
  50% { box-shadow: 0 0 12px var(--pulse-glow, var(--gg)); }
}

@keyframes working-dots {
  0%, 80%, 100% { opacity: 0.2; transform: scale(0.8); }
  40% { opacity: 0.7; transform: scale(1); }
}

.animate-pulse-dot {
  animation: pulse-dot 3s ease-in-out infinite;
}

.animate-working-dot {
  animation: working-dots 1.4s ease-in-out infinite;
}

.animate-working-dot-2 {
  animation: working-dots 1.4s ease-in-out infinite 0.15s;
}

.animate-working-dot-3 {
  animation: working-dots 1.4s ease-in-out infinite 0.3s;
}

/* ===== Running Task Ping ===== */
@keyframes running-ping {
  0% { transform: scale(1); opacity: 0.6; }
  100% { transform: scale(3.5); opacity: 0; }
}

.animate-running-glow {
  position: relative;
}

.animate-running-glow::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 9999px;
  border: 1.5px solid var(--g);
  animation: running-ping 2s ease-out infinite;
}

/* ===== Hover Thumbnail ===== */
@keyframes hover-thumb-enter {
  from { opacity: 0; transform: translateX(6px) scale(0.97); }
  to { opacity: 1; transform: translateX(0) scale(1); }
}

.animate-hover-thumb-enter {
  animation: hover-thumb-enter 0.15s ease-out forwards;
}

/* ===== Text Shimmer ===== */
@keyframes shimmer-text {
  0%   { background-position: 200% center; }
  100% { background-position: -200% center; }
}

.shimmer-text {
  background: linear-gradient(
    90deg,
    var(--t3) 0%,
    var(--t3) 35%,
    var(--g) 50%,
    var(--t3) 65%,
    var(--t3) 100%
  );
  background-size: 200% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: shimmer-text 3s ease-in-out infinite;
}

/* ===== Shimmer Bar (indeterminate progress) ===== */
@keyframes shimmer-bar {
  0%   { transform: translateX(-100%); }
  100% { transform: translateX(200%); }
}

.shimmer-bar {
  position: relative;
  overflow: hidden;
}

.shimmer-bar::after {
  content: "";
  position: absolute;
  inset: 0;
  width: 50%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--shimmer-color, var(--as)) 50%,
    transparent 100%
  );
  opacity: 0.5;
  animation: shimmer-bar 1.8s ease-in-out infinite;
}

/* ===== Blinking Cursor ===== */
@keyframes blink-cursor {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

.blink-cursor {
  animation: blink-cursor 1s step-end infinite;
}

/* ===== Fade In ===== */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-fade-in {
  animation: fade-in 0.4s ease-out;
}

/* ===== Shake ===== */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-6px); }
  50% { transform: translateX(6px); }
  75% { transform: translateX(-4px); }
}

/* ===== Collapsible Section ===== */
.collapsible {
  display: grid;
  transition: grid-template-rows 0.2s ease-out, opacity 0.2s ease-out;
}

.collapsible[data-open="true"] {
  grid-template-rows: 1fr;
  opacity: 1;
}

.collapsible[data-open="false"] {
  grid-template-rows: 0fr;
  opacity: 0;
}

.collapsible > div {
  overflow: hidden;
}

/* ===== Step Log Animation ===== */
@keyframes step-log-enter {
  from {
    opacity: 0;
    max-height: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    max-height: 600px;
    transform: translateY(0);
  }
}

.animate-step-log-enter {
  animation: step-log-enter 0.25s ease-out forwards;
}

/* ===== Scrollbar ===== */
::-webkit-scrollbar { width: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--b1); border-radius: 100px; }
::-webkit-scrollbar-thumb:hover { background: var(--b2); }
